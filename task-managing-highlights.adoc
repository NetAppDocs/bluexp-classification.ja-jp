---
sidebar: sidebar 
permalink: task-managing-highlights.html 
keywords: compliance, privacy, filter data, delete files, move files, copy files, clone files, sync files, data sense, migration 
summary: BlueXPは、さまざまな方法でプライベートデータを管理できます。一部の機能を使用すると、データの移行準備が簡単になります。また、他の機能を使用してデータを変更することもできます。 
---
= プライベートデータを管理
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
BlueXPは、さまざまな方法でプライベートデータを管理できます。一部の機能を使用すると、データの移行準備が簡単になります。また、他の機能を使用してデータを変更することもできます。

[]
====
*注*この情報は、BlueXPの旧バージョン1.30以前の分類にのみ関連します。

====
* 特定のデータのコピーを作成して別の NFS の場所に移動する場合は、デスティネーションの NFS 共有にファイルをコピーできます。
* ONTAP ボリュームを新しいボリュームにクローニングしたり、選択したファイルだけをソースボリュームから新しいクローンボリュームに含めたりできます。これは、データを移行する際に元のボリュームから特定のファイルを除外する場合に便利です。
* ソースリポジトリから特定の保存先にあるディレクトリにファイルをコピーして同期できます。これは、ソースファイルに対して何らかの最終的なアクティビティが行われている間に、あるソースシステムから別のソースシステムにデータを移行する場合に便利です。
* BlueXP分類でスキャンするソースファイルを任意のNFS共有に移動できます。
* 安全でないようであるか危険すぎると思われるファイルを削除して、ストレージシステムに残すことも、重複として識別したファイルを削除することもできます。


[NOTE]
====
* このセクションで説明する機能は、データソースに対して完全な分類スキャンを実行することを選択した場合にのみ使用できます。マッピングのみのスキャンを実行したデータソースでは、ファイルレベルの詳細は表示されません。
* Google Driveアカウントのデータでは、現時点でこれらの機能を使用することはできません。


====


== ソースファイルをコピーします

BlueXP分類でスキャンしている任意のソースファイルをコピーできます。実行しようとしている処理に応じて、次の 3 種類のコピー処理があります。

* * 同一または異なるボリュームまたはデータソースからデスティネーション NFS 共有にファイル * をコピーします。
+
これは、特定のデータのコピーを作成して別の NFS の場所に移動する場合に便利です。

* * ONTAP ボリュームのクローンを同じアグリゲート内の新しいボリュームに作成します。新しいクローンボリュームには、ソースボリュームから選択されたファイルのみを含めます。
+
これは、データを移行する際に元のボリュームから特定のファイルを除外する場合に便利です。このアクションではを使用します https://docs.netapp.com/us-en/ontap/volumes/flexclone-efficient-copies-concept.html["NetApp FlexClone"^] ボリュームをすばやく複製し、 * 選択しなかったファイルを削除する機能。

* * 単一のソースリポジトリ（ ONTAP ボリューム、 S3 バケット、 NFS 共有など）から特定のデスティネーション（ターゲット）にあるディレクトリにファイルをコピーして同期します。
+
これは、あるソースシステムから別のシステムにデータを移行する場合に便利です。最初のコピーの後、設定したスケジュールに基づいて変更されたデータが同期されます。このアクションではを使用します https://docs.netapp.com/us-en/bluexp-copy-sync/concept-cloud-sync.html["NetApp BlueXPのコピーと同期"^] データをソースからターゲットにコピーおよび同期する機能。





=== ソースファイルをNFS共有にコピーする

BlueXP分類でスキャンしているソースファイルは、任意のNFS共有にコピーできます。NFS共有をBlueXPに統合する必要はありません。選択したすべてのファイルがコピーされるNFS共有の名前を指定するだけです `<host_name>:/<share_path>`。


TIP: データベースに存在するファイルはコピーできません。

.要件
* ファイルをコピーする権限が必要です。link:concept-cloud-compliance.html#user-roles["コンプライアンス情報へのユーザアクセスについて"]です。
* ファイルをコピーするには、デスティネーションNFS共有でBlueXP分類インスタンスからのアクセスが許可されている必要があります。
* 一度に1～100,000個のファイルをコピーできます。


.手順
. [ データ調査結果 ] ペインで、コピーするファイルを選択し、 [ * コピー ] をクリックします。
+
image:screenshot_compliance_copy_multi_files.png["[ データ調査 ] ページからコピーするファイルを選択する方法と、 [ コピー ] ボタンを示すスクリーンショット。"]

+
** 個々のファイルを選択するには、各ファイル（image:button_backup_1_volume.png[""]）。
** 現在のページのすべてのファイルを選択するには、タイトル行（image:button_select_all_files.png[""]）。
** すべてのページのすべてのファイルを選択するには、タイトル行（image:button_select_all_files.png[""]）をクリックし、ポップアップメッセージにと入力します image:screenshot_select_all_items.png["すべてのファイルの選択について"]をクリックし、リスト（ xxx 項目）のすべての項目を選択 * をクリックします。


. _ ファイルのコピー _ ダイアログで * 標準コピー * タブを選択します。
+
image:screenshot_compliance_copy_files_dialog.png["選択したすべてのファイルのコピー先となる NFS 共有の名前を指定できる、ファイルのコピーダイアログを示すスクリーンショット。"]

. 選択したすべてのファイルをコピーする NFS 共有の名前を「 <host_name> ： /<share_path>` 」の形式で入力し、「 * Copy * 」をクリックします。
+
コピー処理のステータスを示すダイアログが表示されます。



コピー処理の進捗状況はで確認できます link:task-view-compliance-actions.html["[ アクションステータス（ Actions Status ） ] パネル"]。

ファイルのメタデータの詳細を表示するときに、個々のファイルをコピーすることもできます。[ ファイルのコピー ] をクリックします。

image:screenshot_compliance_copy_file.png["[ データ調査 ] ページのファイルのメタデータ詳細から [ ファイルのコピー ] ボタンを選択したことを示すスクリーンショット。"]



=== 新しいボリュームへのボリュームデータのクローニング

BlueXPでスキャンしている既存のONTAP ボリュームは、netapp_FlexClone_functionalityを使用してクローニングできます。これにより、選択したファイルのみを含めて、ボリュームをすばやく複製できます。この機能は、データを移行する際に元のボリュームから特定のファイルを除外する場合や、テスト用にボリュームのコピーを作成する場合に便利です。

新しいボリュームは、ソースボリュームと同じアグリゲート内に作成されます。このタスクを開始する前に、アグリゲート内にこの新しいボリューム用の十分なスペースがあることを確認してください。必要に応じて、ストレージ管理者にお問い合わせください。

* 注： * FlexGroup ボリュームは FlexClone でサポートされていないため、クローンを作成できません。

.要件
* ファイルをコピーする権限が必要です。link:concept-cloud-compliance.html#user-roles["コンプライアンス情報へのユーザアクセスについて"]です。
* 少なくとも20個のファイルを選択する必要があります。
* 選択したファイルはすべて同じボリュームにあり、ボリュームがオンラインである必要があります。
* ボリュームは、 Cloud Volumes ONTAP またはオンプレミスの ONTAP システムから選択する必要があります。他のデータソースは現在サポートされていません。
* クラスタに FlexClone ライセンスがインストールされている必要があります。このライセンスは、 Cloud Volumes ONTAP システムにデフォルトでインストールされます。


.手順
. [ データ調査 ] ペインで、 1 つの * 作業環境 * と 1 つの * ストレージリポジトリ * を選択してフィルタを作成し、すべてのファイルが同じ ONTAP ボリュームにあることを確認します。
+
image:screenshot_compliance_filter_1_repo.png["単一の作業環境内の単一のストレージリポジトリのファイルを含むフィルタを作成する際のスクリーンショット。"]

+
新しいボリュームにクローニングするファイルだけが表示されるように、他のフィルタを適用します。

. ［ 調査結果 ］ ペインで、複製するファイルを選択し、 ［ * コピー * ］ をクリックします。
+
image:screenshot_compliance_copy_multi_files.png["[ データ調査 ] ページからコピーするファイルを選択する方法と、 [ コピー ] ボタンを示すスクリーンショット。"]

+
** 個々のファイルを選択するには、各ファイル（image:button_backup_1_volume.png[""]）。
** 現在のページのすべてのファイルを選択するには、タイトル行（image:button_select_all_files.png[""]）。
** すべてのページのすべてのファイルを選択するには、タイトル行（image:button_select_all_files.png[""]）をクリックし、ポップアップメッセージにと入力します image:screenshot_select_all_items.png["すべてのファイルの選択について"]をクリックし、リスト（ xxx 項目）のすべての項目を選択 * をクリックします。


. _ ファイルのコピー _ ダイアログで * FlexClone * タブを選択します。このページには、ボリュームからクローニングされるファイル（選択したファイル）の総数と、クローンボリュームに含まれている / 削除されていないファイル（選択しなかったファイル）の数が表示されます。
+
image:screenshot_compliance_clone_files_dialog.png["ソースボリュームからクローニングする新しいボリュームの名前を指定できるように、ファイルのコピーダイアログを示すスクリーンショット。"]

. 新しいボリュームの名前を入力し、 * FlexClone * をクリックします。
+
クローン処理のステータスを示すダイアログが表示されます。



.結果
新しいクローンボリュームは、ソースボリュームと同じアグリゲート内に作成されます。

クローニング処理の進捗状況はで確認できます link:task-view-compliance-actions.html["[ アクションステータス（ Actions Status ） ] パネル"]。

ソースボリュームが配置されている作業環境でBlueXPの分類を有効にしたときに最初に*[すべてのボリュームをマッピングして分類]*を選択した場合は、新しいクローンボリュームが自動的にスキャンされます。最初にこれらのいずれかを使用しなかった場合は、この新しいボリュームをスキャンする必要があります link:task-getting-started-compliance.html["ボリュームのスキャンを手動で有効にします"]。



=== ソースファイルをターゲットシステムにコピーして同期する

BlueXP分類でスキャンしているソースファイルを、サポートされている非構造化データソースから特定のターゲットデスティネーションの場所にあるディレクトリにコピーできます (https://docs.netapp.com/us-en/bluexp-copy-sync/reference-supported-relationships.html["BlueXPのコピーと同期でサポートされるターゲットの場所"^]）。最初のコピー後、ファイル内で変更されたデータは、設定したスケジュールに基づいて同期されます。

これは、あるソースシステムから別のシステムにデータを移行する場合に便利です。このアクションではを使用します https://docs.netapp.com/us-en/bluexp-copy-sync/concept-cloud-sync.html["NetApp BlueXPのコピーと同期"^] データをソースからターゲットにコピーおよび同期する機能。


TIP: データベース、 OneDrive アカウント、 SharePoint アカウントにあるファイルはコピーおよび同期できません。

.要件
* ファイルをコピーおよび同期する権限が必要です。link:concept-cloud-compliance.html#user-roles["コンプライアンス情報へのユーザアクセスについて"]です。
* 少なくとも20個のファイルを選択する必要があります。
* 選択したファイルはすべて、同じソースリポジトリ（ ONTAP ボリューム、 S3 バケット、 NFS 共有、 CIFS 共有など）にある必要があります。
* BlueXPのコピーおよび同期サービスをアクティブ化し、ソースシステムとターゲットシステム間でファイルを転送するためのデータブローカーを少なくとも1つ設定する必要があります。から、BlueXPのコピーと同期の要件を確認します https://docs.netapp.com/us-en/bluexp-copy-sync/task-quick-start.html["Quick Start 概要 の略"^]。
+
BlueXPのコピーおよび同期サービスでは、同期関係ごとにサービス料金が別途発生します。データブローカーをクラウドに導入した場合はリソース料金が発生します。



.手順
. [ データの調査 ] ペインで、 1 つの * 作業環境 * と 1 つの * ストレージリポジトリ * を選択してフィルタを作成し、すべてのファイルが同じリポジトリにあることを確認します。
+
image:screenshot_compliance_filter_1_repo.png["単一の作業環境内の単一のストレージリポジトリのファイルを含むフィルタを作成する際のスクリーンショット。"]

+
他のフィルタを適用して、コピー先システムに同期するファイルだけが表示されるようにします。

. [ 調査結果 ] ウィンドウ枠で、タイトル行のボックスをオンにして、すべてのページのすべてのファイルを選択します（image:button_select_all_files.png[""]）をクリックし、ポップアップメッセージに入力します image:screenshot_select_all_items.png["すべてのファイルの選択について"] [ リスト内のすべての項目を選択（ * xxx 項目） ] をクリックし、 [ * コピー * ] をクリックします。
+
image:screenshot_compliance_sync_multi_files.png["[ データ調査 ] ページからコピーするファイルを選択する方法と、 [ コピー ] ボタンを示すスクリーンショット。"]

. _ ファイルのコピー _ ダイアログで * 同期 * タブを選択します。
+
image:screenshot_compliance_sync_files_dialog.png["[ ファイルのコピー ] ダイアログを示すスクリーンショットで、 [ 同期 ] オプションを選択できます。"]

. 選択したファイルを保存先に同期してもよい場合は、「 * OK * 」をクリックします。
+
BlueXPのコピーと同期のUIがBlueXPで開きます。

+
同期関係を定義するよう求められます。ソースシステムには、BlueXPの分類で選択したリポジトリとファイルがあらかじめ設定されています。

. ターゲットシステムを選択し、使用するデータブローカーを選択（または作成）する必要があります。から、BlueXPのコピーと同期の要件を確認します link:https://docs.netapp.com/us-en/bluexp-copy-sync/task-quick-start.html["Quick Start 概要 の略"^]。


.結果
ファイルはターゲットシステムにコピーされ、定義したスケジュールに基づいて同期されます。1 回限りの同期を選択した場合、ファイルは 1 回だけコピーされ、同期されます。定期的な同期を選択した場合は、スケジュールに基づいてファイルが同期されます。フィルタを使用して作成したクエリに一致する新しいファイルがソースシステムによって追加されると、これらの _new_files がコピー先にコピーされ、後で同期されることに注意してください。

BlueXPの分類から起動すると、通常のBlueXPのコピー処理と同期処理の一部が無効になることに注意してください。

* 「ソース上のファイルを削除」または「ターゲット上のファイルを削除」ボタンは使用できません。
* レポートの実行が無効になっています。




== ソースファイルをNFS共有に移動する

BlueXP分類でスキャンするソースファイルを任意のNFS共有に移動できます。NFS共有をBlueXPの分類と統合する必要はありません。

必要に応じて、移動したファイルの場所にブレッドクラムファイルを残すことができます。ブレッドクラムファイルは、ファイルが元の場所から移動された理由をユーザーが理解するのに役立ちます。移動された各ファイルについて、システムは「<filename>-ブレッドクラム-<date>.txt」という名前のソース位置にブレッドクラムファイルを作成します。ダイアログボックスで、ブレッドクラムファイルに追加されるテキストを追加して、ファイルが移動された場所とファイルを移動したユーザを示すことができます。

ソースファイルのサブディレクトリ構造は、ファイルの移動時に移動先の共有に再作成されるため、ファイルの移動元がわかりやすくなります。同じ名前のファイルがコピー先に存在する場合、そのファイルは移動されません。


TIP: データベースに存在するファイルは移動できません。

.要件
* ファイルを移動する権限が必要です。link:concept-cloud-compliance.html#user-roles["コンプライアンス情報へのユーザアクセスについて"]です。
* ソースファイルは、オンプレミスのONTAP 、Cloud Volumes ONTAP 、Azure NetApp Files 、ファイル共有、SharePoint Onlineのデータソースに配置できます。
* 一度に移動できるファイルの最大数は1、500万です。
* 50 MB以下のファイルのみが移動されます。
* デスティネーションNFS共有で、BlueXP分類インスタンスのIPアドレスからのアクセスを許可する必要があります。


.手順
. [ データ調査結果 ] ペインで、移動するファイルを選択します。
+
image:screenshot_compliance_move_multi_files.png["移動するファイルを選択する方法を示すスクリーンショット。 [ データの調査 ] ページから [ 移動 ] ボタンをクリックします。"]

+
** 個々のファイルを選択するには、各ファイル（image:button_backup_1_volume.png[""]）。
** 現在のページのすべてのファイルを選択するには、タイトル行（image:button_select_all_files.png[""]）。
** すべてのページのすべてのファイルを選択するには、タイトル行（image:button_select_all_files.png[""]）をクリックし、ポップアップメッセージにと入力します image:screenshot_select_all_items.png["すべてのファイルの選択について"]をクリックし、リスト（ xxx 項目）のすべての項目を選択 * をクリックします。


. ボタンバーで、 * 移動 * をクリックします。
+
image:screenshot_compliance_move_files_dialog.png["選択したすべてのファイルを移動する NFS 共有の名前を指定できるように、ファイルの移動ダイアログを示すスクリーンショット。"]

. _Move Files_Dialogに、選択したすべてのファイルを移動するNFS共有の名前を「<host_name>：/<share_path>`」の形式で入力します。
. ブレッドクラムファイルを残す場合は、_ブレッドクラム履歴_ボックスをオンにします。ダイアログボックスにテキストを入力して、ファイルが移動された場所、ファイルを移動したユーザー、およびファイルが移動された理由などのその他の情報を指定できます。
. 「*ファイルの移動*」をクリックします。


ファイルのメタデータの詳細を表示するときに、個々のファイルを移動することもできます。「 * ファイルを移動 * 」をクリックします。

image:screenshot_compliance_move_file.png["[ データ調査 ] ページのファイルのメタデータ詳細から [ ファイルの移動 ] ボタンを選択したことを示すスクリーンショット。"]



== ソースファイルを削除します

ストレージ・システムに残すのに安全でない ' またはリスクが高すぎるソース・ファイルを完全に削除したり ' 重複として識別したソース・ファイルを削除したりすることができますこの操作は永続的であり、元に戻すことも復元することもできません。

［調査］ペインから手動でファイルを削除することも、手動でファイルを削除することもできます link:task-using-policies.html["ポリシーを使用して自動的に作成"^]。


TIP: データベースに存在するファイルは削除できません。その他のすべてのデータソースがサポートされます。

ファイルを削除するには、次の権限が必要です。

* NFSデータの場合-書き込み権限でエクスポートポリシーを定義する必要があります。
* CIFSデータの場合- CIFSクレデンシャルに書き込み権限が必要です。
* S3 データの場合 - IAM ロールに次の権限を含める必要があります。「 3 ： DeleteObject 」




=== ソースファイルを手動で削除する

.要件
* ファイルを削除する権限が必要です。link:concept-cloud-compliance.html#user-roles["コンプライアンス情報へのユーザアクセスについて"]です。
* 一度に削除できるファイルの最大数は 100 、 000 です。


.手順
. [ データ調査結果 ] ペインで、削除するファイルを選択します。
+
image:screenshot_compliance_delete_multi_files.png["削除するファイルを選択する方法を示すスクリーンショット。 [ データ調査 ] ページの [ 削除 ] ボタン。"]

+
** 個々のファイルを選択するには、各ファイル（image:button_backup_1_volume.png[""]）。
** 現在のページのすべてのファイルを選択するには、タイトル行（image:button_select_all_files.png[""]）。
** すべてのページのすべてのファイルを選択するには、タイトル行（image:button_select_all_files.png[""]）をクリックし、ポップアップメッセージにと入力します image:screenshot_select_all_items.png["すべてのファイルの選択について"]をクリックし、リスト（ xxx 項目）のすべての項目を選択 * をクリックします。


. ボタンバーで、 * 削除 * をクリックします。
. 削除操作は永続的であるため ' 後続の _Delete File_Dialog に「 * permanently delete * 」と入力し ' * ファイルの削除 * をクリックする必要があります


削除処理の進捗状況はで確認できます link:task-view-compliance-actions.html["[ アクションステータス（ Actions Status ） ] パネル"]。

ファイルのメタデータの詳細を表示するときに、個々のファイルを削除することもできます。[ ファイルの削除 ] をクリックします。

image:screenshot_compliance_delete_file.png["[ データ調査 ] ページのファイルのメタデータ詳細から [ ファイルの削除 ] ボタンを選択したことを示すスクリーンショット。"]
